<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Manager HomePage</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<script>
	function logout() { //DONE
		let xhr = new XMLHttpRequest();

		xhr.open("POST", "http://localhost:8080/project-1/logout");
		xhr.send();

		sessionStorage.removeItem('currentUser');
		window.location = "http://localhost:8080/project-1/index.html";
	}

	function empl() { //DONE
		console.log("empl() started")
		console.log(sessionStorage.getItem('currentUser'))
		window.location = "http://localhost:8080/project-1/empl.html"
	}

	function allrequests() {  //DONE
		console.log("allrequests() started")
		console.log(sessionStorage.getItem('currentUser'))
		window.location = "http://localhost:8080/project-1/allrequests.html"
	}

	function resolve() { //DONE
		console.log("resolve() started")
		console.log(sessionStorage.getItem('currentUser'))
		window.location = "http://localhost:8080/project-1/resolve.html"
	}

	function allresolved() { //DONE
		console.log("allresolved() started")
		console.log(sessionStorage.getItem('currentUser'))
		window.location = "http://localhost:8080/project-1/allresolved.html"
	}

	function requests() { //DONE
		console.log("requests() started")
		console.log(sessionStorage.getItem('currentUser'))
		window.location = "http://localhost:8080/project-1/requests.html"
	}

</script>

<body>
	<div class="jumbotron">
		<h1 id="welcome">You are logged in!</h1>
		<script>
			let welcome = document.getElementById('welcome');
			let userString = sessionStorage.getItem('currentUser');
			let currentUser = JSON.parse(userString);

			if (userString === null) {
				//window.location = "http://localhost:8080/project-1/"
			} else {
				console.log(currentUser);
				if (currentUser != null) {
					welcome.innerHTML = "Welcome " + currentUser.username;
				}
			}
		</script>
	</div>

	<button type="button" class="btn btn-outline-danger" onclick="requests()">See an Employees Requests</button>
	<br> <br>
	<button type="button" class="btn btn-outline-success" onclick="empl()">See Employees</button>
	<br> <br>
	<button type="button" class="btn btn-outline-secondary" onclick="resolve()">Resolve</button>
	<br> <br>
	<button type="button" class="btn btn-outline-warning" onclick="allrequests()">See All Requests</button>
	<br> <br>
	<button type="button" class="btn btn-outline-info" onclick="allresolved()">See All Resolves</button>
	<br><br>
	<button type="button" class="btn btn-outline-primary" onclick="logout()">Logout</button>
	<br> <br>
	<div id="display"></div>
</body>

</html>